<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>How AWS and Go Transformed a Public Broadcasters Digital Archive</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/sky.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>AWS and Go</h1>
					<h3>How AWS and Go Transformed a Public Broadcasters Digital Archive</h3>
				</section>

				<section>
					<h2>Who are you?</h2>
					<ul>
						<li>"Offically" technical lead at Kablamo</li>
						<li>I call myself a code monkey</li>
						<li>
							<pre><code style="font-size: 16px;">func produce(c Coffee, b Beer) (Code, Cloud, error)</code></pre>
						</li>
					</ul>

					<p>I blog <a href="https://boyter.org/">boyter.org</a> I free software <a href="https://github/boyter/">github/boyter/</a> I run <a href="https://searchcode.com/">searchcode.com</a> also on the twitter <a href="https://twitter.com/boyter">@boyter</a></p>
				</section>

				<section>
					<h2>The Problem</h2>
					<ul>
						<li>250,000 audio and video files starting in 1920's stored in digitised system.</li>
						<li>Video stored in proprietary format.</li>
						<li>Images in some other system.</li>
						<li>System was full. No ability to archive new content.</li>
						<li>Metadata was still being added.</li>
						<li>Many systems for metadata. Some 36+ years old.</li>
					</ul>
				</section>

				<section>
					<h2>The Goal</h2>
					<ul>
						<li>Search across everything.</li>
						<li>Have a "future resistant" archive.</li>
						<li>Merge metadata into golden records.</li>
						<li>Self serve.</li>
						<li>Turn off old services.</li>
						<li>Have production ready in 6 months.</li>
					</ul>
				</section>

				<section>
					<h2>Design</h2>
					<ul>
						<li>S3 all the things.</li>
						<li>Elastic search.</li>
						<li>Go.</li>
					</ul>
				</section>

				<section>
					<h2>AWS Elastic Search</h2>
					<p>It's not brilliant.</p>
					<ul>
						<li>Choice of instance types limited.</li>
						<li>No scaling or monitoring work done for you.</li>
						<li>Forces you to snapshot even if you use it as a cache/search only solution.</li>
						<li>Multi AZ limited.</li>
					</ul>
				</section>

				<section>
					<h2>Architecture</h2>
					<img src="./img/1.png" style="border: none; height: 500px;" />
				</section>

				<section>
					<h2>GoPath/Monorepo FTW</h2>
					<pre><code style="font-size: 16px;">.
├── assets
│   ├── imageproxy
│   │   └── main.go
│   ├── load
│   │   └── main.go
│   ├── merge
│   │   ├── audio
│   │   │   └── main.go
│   │   ├── bulk
│   │   │   └── main.go
│   │   ├── cleanup
│   │   │   └── main.go
│   │   ├── oldvideo
│   │   │   └── main.go
│   │   ├── photo
│   │   │   └── main.go
│   │   ├── video
│   │   │   └── main.go
│   │   └── wvideo
│   │       └── main.go
│   ├── transcodeFinished
│   │   └── commandline
│   │       └── main.go
│   └── transcodeStart
│       └── commandline
│           └── main.go
					</code></pre>
				</section>


			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
